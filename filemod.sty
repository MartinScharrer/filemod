\def\filemodparse#1#2{%
    \expandafter\filemod@parse\pdffilemoddate{#2}\relax{#1}%
}
\def\filemod@parse#1\relax#2{%
    \ifx\relax#1\relax
        \expandafter\@firstoftwo
    \else
        \expandafter\@secondoftwo
    \fi
    {\filemodnotexists{#2}}%
    {\filemod@parse@#1\empty{#2}\relax}%
}

\def\filemodnotexists#1{%
    #1{0000}{00}{00}{00}{00}{00}{Z}%
}
\begingroup
\@makeother\D
\@makeother:
\gdef\filemod@parse@D:#1#2#3#4#5#6#7#8#9\relax{%
    \filemod@parse@@{{#1#2#3#4}{#5#6}{#7#8}}#9\relax
}
\endgroup
\def\filemod@parse@@#1#2#3#4#5#6#7#8\empty#9\relax{%
    #9#1{#2#3}{#4#5}{#6#7}{#8}%
}

\def\filemodprint{\filemodparse\thefilemod}
\def\filemodprintdate{\filemodparse\the@filemoddate}
\def\filemodprinttime{\filemodpares\the@filemodtime}

\def\thefilemod#1#2#3#4#5#6#7{%
    \thefilemoddate{#1}{#2}{#3}%
    \space
    \thefilemodtime{#4}{#5}{#6}{#7}%
}
\def\thefilemoddate#1#2#3{%
    #1/#2/#3%
}
\def\thefilemodtime#1#2#3#4{%
    #1:#2:#3~#4%
}
\def\the@filemoddate#1#2#3#4#5#6#7{%
    \thefilemoddate{#1}{#2}{#3}%
}
\def\the@filemodtime#1#2#3{%
    \thefilemodtime
}

\def\filemodnumdate{\filemodparse\filemod@numdate}
\def\filemodnumtime{\filemodparse\filemod@numtime}
\def\filemod@numdate#1#2#3#4#5#6#7{#1#2#3}
\def\filemod@numtime#1#2#3#4#5#6#7{#4#5#6}

\def\filemodgetnum{\filemodparse\filemod@getnum}

\def\filemod@getnum#1#2#3#4#5#6#7{%
    \def\filemoddate{#1#2#3}%
    \def\filemodtime{#4#5#6}%
    \def\filemodtz{#7}%
}

\newcommand\filemodcmp[1][1]{%
    \def\filemod@next{\filemodcmpresult}%
    \filemod@cmp{#1}%
}

\newcommand\Filemodcmp[1][1]{%
    \let\filemod@next\empty
    \filemod@cmp{#1}%
}

\def\filemod@cmp#1#2#3{%
    \filemodgetnum{#2}%
    \let\filemoddatea\filemoddate
    \let\filemodtimea\filemodtime
    \filemodgetnum{#3}%
    \ifcase0%
        \ifnum\filemoddate>\filemoddatea\space1\else
            \ifnum\filemoddate=\filemoddatea\space
                \ifnum\filemodtime>\filemodtimea\space1\else
                    \ifnum\filemoddate=\filemoddatea\space2\fi
                \fi
            \fi
        \fi
    \relax
       \ifnum#1=3\relax
          \def\filemodcmpresult##1##2##3{##1}%
       \else
          \let\filemodcmpresult\@firstoftwo
       \fi
    \or
       \ifnum#1=3\relax
          \def\filemodcmpresult##1##2##3{##2}%
       \else
          \let\filemodcmpresult\@secondoftwo
       \fi
    \else
       \ifcase#1\relax
         \let\filemodcmpresult\@gobbletwo
       \or
         \let\filemodcmpresult\@firstoftwo
       \or
         \let\filemodcmpresult\@secondoftwo
       \or
         \let\filemodcmpresult\@thirdofthree
       \else
         \@filemodcmp@error
       \fi
    \fi
    \filemod@next
}

\def\@filemodcmp@error{%
    \PackageError{filemod}{Invalid optional argument! Must be a number from 0-3.}{}%
}

